(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){e.exports=n(270)},141:function(e,t,n){},157:function(e,t,n){},163:function(e,t){},165:function(e,t){},200:function(e,t){},201:function(e,t){},256:function(e,t,n){},257:function(e,t,n){},267:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),i=(n(141),n(34)),o=n(26),l=n(2),u=n.n(l),m=n(5),f=n(16);function h(e){return"running"===e.instance.status?r.a.createElement("button",{className:"btn btn-dark",onClick:function(t){e.stopInstance(e.instance.name)}},"Stop"):r.a.createElement("span",null,r.a.createElement("button",{className:"btn btn-dark",onClick:function(t){e.startInstance(e.instance.name)}},"Start")," ",r.a.createElement("button",{className:"btn btn-dark",onClick:function(t){e.deleteInstance(e.instance.name)}},"Delete"))}function d(e){var t=[],n=function(){var t=Object(m.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.stopInstance(n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=Object(m.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.startInstance(n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(m.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.deleteInstance(n);case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return e.instances.map(function(e,s){t.push(r.a.createElement("tr",{key:e.name},r.a.createElement("td",null,s+1),r.a.createElement("td",null,e.id.substring(0,10),"..."),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.status),r.a.createElement("td",null,e.port),r.a.createElement("td",null,r.a.createElement(h,{instance:e,stopInstance:n,startInstance:a,deleteInstance:c}))))}),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Ports"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t))}var p=n(27),v=n.n(p),b=n(22),k=n.n(b),E={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function y(e){return r.a.createElement(k.a,{isOpen:e.show,contentLabel:"Prune Network",style:E},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Prune Network"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h4",null,"Are you sure?"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{className:"btn btn-secondary",onClick:e.cancel},"Cancel")),r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:e.ok},"Ok")))))}k.a.setAppElement("#root");var w={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",width:"500px",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function N(e){var t=3;return r.a.createElement(k.a,{isOpen:e.show,contentLabel:"Spawn Network",style:w},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Spawn Network"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h4",null,"Nodecount:")),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{type:"text",onChange:function(e){t=+e.target.value}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{className:"btn btn-secondary",onClick:e.cancel},"Cancel")),r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.ok(t)}},"Ok")))))}k.a.setAppElement("#root");var g=n(135),O={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};function j(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)("testData"),o=Object(f.a)(i,2),l=o[0],u=o[1],m=Object(a.useState)(-1),h=Object(f.a)(m,2),d=h[0],p=h[1],v=Object(a.useState)(!1),b=Object(f.a)(v,2),E=b[0],y=b[1];return r.a.createElement(k.a,{isOpen:e.show,contentLabel:"Benchmark Configuration",style:O},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h2",null,"Benchmark Configuration"))),e.errorMessage.length>0&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.errorMessage))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("h4",null,"Filename:")),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("input",{type:"text",name:"filename",value:l,onChange:function(e){u(e.target.value)}}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{type:"checkbox",className:"from-check-input",onChange:function(){y(!E)},id:"configureNetwork"}),r.a.createElement("label",{className:"form-check-label"},"Configure Network for benchmark")))),E&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Network Configuration"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("p",{className:"card-text"},"Configure the network for the benchmark. Note that the transactions are transmitted to all the configured peers in equal parts."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},"Define the number of nodes to create:"),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("input",{type:"text",name:"nodecount",value:d,onChange:function(e){p(+e.target.value)}})))))))),!E&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h4",null,"Select the receiving nodes:"))),!E&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},"The send transactions will be evenly distributed between the selected nodes."),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){s(e.dockerInstances.map(function(e){return{label:e.name,value:e}}))}},"Select all")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){s([])}},"Deselect all"))),!E&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(g.a,{value:c,onChange:function(e){s(e)},isMulti:!0,options:e.dockerInstances.map(function(e){return{label:e.name,value:e}})}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("button",{className:"btn btn-secondary",onClick:e.cancel},"Cancel")),r.a.createElement("div",{className:"col-md-6 text-right"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(){e.ok(c.map(function(e){return e.value}),l,d)}},"Ok")))))}k.a.setAppElement("#root");n(46),n(157);function x(){return r.a.createElement("footer",{className:"page-footer footer navbar-fixed-bottom"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-1"},r.a.createElement(i.b,{to:"/"},"Main")),r.a.createElement("div",{className:"col-md-1"},r.a.createElement(i.b,{to:"/network"},"Network")),r.a.createElement("div",{className:"col-md-1"},r.a.createElement(i.b,{to:"/benchmarks"},"Benchmarks")))))}function S(e){var t=function(){var t=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.clicked("10Simple");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),n=function(){var t=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.clicked("100Simple");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),a=function(){var t=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.clicked("1000Simple");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.clicked("10000Simple");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Object(m.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.clicked("100000Simple");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Apply benchmark..."),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("button",{className:"dropdown-item",title:"Send 10 tranasctions to the blockchain network and measure the time",onClick:t},"10 Transactions"),r.a.createElement("button",{className:"dropdown-item",title:"Send 100 tranasctions to the blockchain network and measure the time",onClick:n},"100 Transactions"),r.a.createElement("button",{className:"dropdown-item",title:"Send 1,000 tranasctions to the blockchain network and measure the time",onClick:a},"1,000 Transactions"),r.a.createElement("button",{className:"dropdown-item",title:"Send 10,000 tranasctions to the blockchain network and measure the time",onClick:c},"10,000 Transactions"),r.a.createElement("button",{className:"dropdown-item",title:"Send 100,000 tranasctions to the blockchain network and measure the time",onClick:s},"100,000 Transactions")))}var C=n(8),I=n(9),P=n(32),_=n(31),B=n(33),M=n(80),D=n(133),T=function(){function e(){Object(C.a)(this,e)}return Object(I.a)(e,null,[{key:"generateKeyPair",value:function(){return M.createECKey("P-256")}},{key:"sha256",value:function(e){return Object(D.sha256)(e)}},{key:"keyFromPEM",value:function(e){return new M(e,"pem")}},{key:"sign",value:function(e,t){return t.createSign("SHA256").update(e).sign("base64")}},{key:"verify",value:function(e,t,n){return t.createVerify("SHA256").update(e).verify(n,"base64")}}]),e}(),F=function(){function e(t){Object(C.a)(this,e),this.keyPair=void 0,this.keyPair=t?T.keyFromPEM(t):T.generateKeyPair()}return Object(I.a)(e,[{key:"signTransaction",value:function(e){return e.sign(this.keyPair),e}},{key:"getPublicKey",value:function(){return this.keyPair.asPublicECKey()}},{key:"getPublicKeyPEMBase64",value:function(){var e=this.getPublicKey().toString("pem");return btoa(e)}}],[{key:"createAccount",value:function(t){var n=new e;return n.keyPair=t?T.keyFromPEM(t):T.generateKeyPair(),n}}]),e}(),R=function(){function e(t,n,a,r){Object(C.a)(this,e),this.sender="",this.receiver="",this.payload="",this.signature="",this.sender=t,this.receiver=n,this.payload=a,this.signature=r||""}return Object(I.a)(e,[{key:"toBCRepresentation",value:function(){var e=this.payload;return this.receiver instanceof F?e+=this.receiver.getPublicKeyPEMBase64():e+=this.receiver,this.sender instanceof F?e+=this.sender.getPublicKeyPEMBase64():e+=this.sender,e}},{key:"sign",value:function(e){e instanceof F?e=e.keyPair:("string"===typeof e||e instanceof String)&&(e=T.keyFromPEM(e)),this.signature=T.sign(this.toBCRepresentation(),e)}},{key:"verify",value:function(e,t){if(e instanceof F?e=e.getPublicKey():("string"===typeof e||e instanceof String)&&(e=T.keyFromPEM(e)),t&&(this.signature=t),!this.signature||""===this.signature)throw Error("Transaction has no signature");return T.verify(this.toBCRepresentation(),e,this.signature)}},{key:"toTransmittableString",value:function(){var e={signature:this.signature,payload:this.payload};return this.sender instanceof F?e.sender=this.sender.getPublicKeyPEMBase64():e.sender=this.sender,this.receiver instanceof F?e.receiver=this.receiver.getPublicKeyPEMBase64():e.receiver=this.receiver,e}},{key:"hash",value:function(){return T.sha256(this.toBCRepresentation())}}]),e}(),K=function(){function e(t){Object(C.a)(this,e),this.url="",this.rpc_id_count=0,this.url=t}return Object(I.a)(e,[{key:"getConnectedPeers",value:function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==this.url){e.next=2;break}throw Error("Not connected to a node");case 2:return e.abrupt("return",this.sendJSONRPC("getPeers"));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getBlock",value:function(){var e=Object(m.a)(u.a.mark(function e(t){var n=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){t?n.sendJSONRPC("requestBlock",[t]).then(function(t){var n=!0,a=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;i.transactions=i.transactions.map(function(e){return new R(e.sender,e.receiver,e.payload,e.signature)}),i.timestamp=new Date(1e3*i.timestamp)}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}e(t)}):n.sendJSONRPC("requestBlock").then(function(t){var n=!0,a=!1,r=void 0;try{for(var c,s=t[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;i.transactions=i.transactions.map(function(e){return new R(e.sender,e.receiver,e.payload,e.signature)}),i.timestamp=new Date(1e3*i.timestamp)}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}e(t)})}));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var e=Object(m.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendJSONRPC("sendTransaction",[t.toTransmittableString()]));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"isTransactionMined",value:function(e){var t=this;return new Promise(function(n,a){t.getBlock().then(function(t){var a=!0,r=!1,c=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){s.value.transactions.filter(function(t){return t.hash()===e}).length>0&&n(!0)}}catch(o){r=!0,c=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}})})}},{key:"sendJSONRPC",value:function(e,t){var n=this;if(""===this.url)throw Error("Not connected to a node");var a={method:e,jsonrpc:"2.0",id:this.rpc_id_count};return t&&(a.params=t),new Promise(function(e,t){fetch(n.url,{method:"POST",body:JSON.stringify(a)}).then(function(t){t.json().then(function(t){e(t.result),++n.rpc_id_count})}).catch(function(e){t(e)})})}}]),e}(),J=function(){function e(){Object(C.a)(this,e)}return Object(I.a)(e,null,[{key:"getClientInterface",value:function(t){return t?new Promise(function(e,n){var a=+t.name.split("_")[1];e(new K("http://localhost:"+(a+5e3)))}):new Promise(function(t,n){e.getInstances().then(function(e){if(0===e.length)n();else{var a=+e[0].name.split("_")[1];t(new K("http://localhost:"+(a+5e3)))}})})}},{key:"getClientInterfaces",value:function(){return new Promise(function(t,n){var a=[];e.getInstances().then(function(e){var n=!0,r=!1,c=void 0;try{for(var s,i=e[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;if("running"===o.status){var l=+o.name.split("_")[1],u=new K("http://localhost:"+(l+5e3)+"/");a.push({instance:o,client:u})}}}catch(m){r=!0,c=m}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}t(a)})})}},{key:"getInstances",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/getInstances");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"createInstance",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/startInstance");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"startInstance",value:function(){var t=Object(m.a)(u.a.mark(function t(n){var a,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/startInstance?name="+n);case 2:return a=t.sent,t.next=5,a.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"stopInstance",value:function(){var t=Object(m.a)(u.a.mark(function t(n){var a,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/stopInstance?name="+n);case 2:return a=t.sent,t.next=5,a.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"deleteInstance",value:function(){var t=Object(m.a)(u.a.mark(function t(n){var a,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/deleteInstance?name="+n);case 2:return a=t.sent,t.next=5,a.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"spawnNetwork",value:function(){var t=Object(m.a)(u.a.mark(function t(n){var a,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/spawnNetwork?number="+n);case 2:return a=t.sent,t.next=5,a.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"pruneNetwork",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/pruneNetwork");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"benchmarkSimple",value:function(){var t=Object(m.a)(u.a.mark(function t(n,a,r,c){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,s){fetch(e.url+"/benchmarkSimple",{method:"POST",body:JSON.stringify({benchmark_name:n,n_transactions:a,peers:r,nodecount:c}),headers:{"Content-Type":"application/json"}}).then(function(e){200!==e.status?e.text().then(function(e){s(e)}):e.text().then(function(e){t(e)})}).catch(function(e){s(e)})}));case 1:case"end":return t.stop()}},t)}));return function(e,n,a,r){return t.apply(this,arguments)}}()},{key:"getBenchmarkFiles",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/benchmarkFiles");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"getBenchmarkQueue",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/benchmarkQueue");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"getBenchmarkStatus",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/benchmarkStatus");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"dumpBenchmarkData",value:function(){var t=Object(m.a)(u.a.mark(function t(){var n,a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e.url+"/dumpBenchmarkData");case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),e}();J.url="http://localhost:8080";var A=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(P.a)(this,Object(_.a)(t).call(this,e)))._isMounted=!1,n.timer=void 0,n.client=void 0,n.state={current_miner:"",current_block:0,current_difficulty:0},J.getClientInterface().then(function(e){n.client=e}),n}return Object(B.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.timer=setInterval(function(){e.tick()},1e3)}},{key:"tick",value:function(){var e=this;this.client&&this.client.getBlock().then(function(t){if(e._isMounted){if(0===t.length)return;var n=t[0];e.setState({current_miner:n.creator,current_block:n.nr,current_difficulty:n.difficulty})}})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,clearInterval(this.timer)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},"Current Miner: ",this.state.current_miner),r.a.createElement("div",{className:"col-md-4"},"Current Block: ",this.state.current_block),r.a.createElement("div",{className:"col-md-4"},"Current Difficulty: ",this.state.current_difficulty)))}}]),t}(r.a.Component),Q=function(){function e(t,n,a){Object(C.a)(this,e),this._receiver=void 0,this._filename=void 0,this._nodecount=void 0,this._receiver=t,this._filename=n,this._nodecount=a}return Object(I.a)(e,[{key:"benchmarkSimpleTransactions",value:function(e){return J.benchmarkSimple(this._filename,e,this._receiver.map(function(e){return e.name}),this._nodecount)}}]),e}(),W=(n(253),n(256),function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(f.a)(s,2),o=i[0],l=i[1],h=Object(a.useState)(!1),b=Object(f.a)(h,2),k=b[0],E=b[1],w=Object(a.useState)(!1),g=Object(f.a)(w,2),O=g[0],C=g[1],I=Object(a.useState)(""),P=Object(f.a)(I,2),_=P[0],B=P[1],M=Object(a.useState)([]),D=Object(f.a)(M,2),T=D[0],F=D[1],R={background:"#0E1717",text:"#FFFFFF"};Object(a.useEffect)(function(){J.getInstances().then(function(e){c(e)})},[]);var K=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.createInstance();case 2:n=e.sent,c(n),p.notify.show("Instance created","custom",5e3,R);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.startInstance(t);case 2:n=e.sent,c(n),p.notify.show("Instance started","custom",5e3,R);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.deleteInstance(t);case 2:n=e.sent,c(n),p.notify.show("Instance deleted","custom",5e3,R);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.stopInstance(t);case 2:n=e.sent,c(n),p.notify.show("Instance stopped","custom",5e3,R);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!1),e.next=3,J.pruneNetwork();case 3:t=e.sent,c(t),p.notify.show("Network pruned","custom",5e3,R);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:E(!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(m.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,J.spawnNetwork(t);case 3:n=e.sent,c(n),p.notify.show("Network generated","custom",5e3,R);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(A,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(y,{show:o,ok:G,cancel:function(){l(!1)}}),r.a.createElement(N,{show:k,ok:V,cancel:function(){E(!1)}}),r.a.createElement(j,{show:O,errorMessage:T,ok:function(e,t,n){console.log("Start benchmark: "+_+" with name: "+t);var a,r=new Q(e,t,n);switch(_){case"10Simple":a=r.benchmarkSimpleTransactions(10);break;case"100Simple":a=r.benchmarkSimpleTransactions(100);break;case"1000Simple":a=r.benchmarkSimpleTransactions(1e3);break;case"10000Simple":a=r.benchmarkSimpleTransactions(1e4);break;case"100000Simple":a=r.benchmarkSimpleTransactions(1e5)}a.then(function(e){console.log("Its done"),C(!1),B("")}).catch(function(e){console.log("Could not create benchmark"),console.log(e),F([e])})},dockerInstances:n,cancel:function(){C(!1),B("")}}),r.a.createElement(v.a,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("h1",null,"Labchain Composer")),r.a.createElement("div",{className:"col-md-2 text-right"},r.a.createElement("h3",{className:"counter"},"#Instances: ",n.length))),r.a.createElement("div",{className:"row controlRow"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-primary",onClick:K},"Create new Instance")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-primary",onClick:H},"Prune Network...")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("button",{className:"btn btn-primary",onClick:U},"Spawn Network...")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(S,{clicked:function(e){B(e),C(!0)}})),r.a.createElement("div",{className:"col-md-2"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(d,{instances:n,startInstance:W,stopInstance:q,deleteInstance:L}))),r.a.createElement(x,null))}),L=(n(257),n(134)),q=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(P.a)(this,Object(_.a)(t).call(this,e)))._isMounted=!1,n.timerID=void 0,n.graphConfig={nodeHighlightBehavior:!0,width:1600,height:800,node:{color:"lightgreen",size:300,highlightStrokeColor:"blue"},link:{highlightColor:"blue"}},n.state={data:{nodes:[{id:"None"}],links:[]}},n}return Object(B.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.timerID=setInterval(function(){e.tick()},1e3)}},{key:"getNameByIP",value:function(e,t){var n=!0,a=!1,r=void 0;try{for(var c,s=e[Symbol.iterator]();!(n=(c=s.next()).done);n=!0){var i=c.value;if(i.ipv4.startsWith(t))return i.name}}catch(o){a=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return""}},{key:"renderGraph",value:function(e,t){var n=this;if(0!==t.length){var a={nodes:t.map(function(e){return{id:(" "+e.peer.name).slice(1)}}),links:t.map(function(t){return Object.keys(t.peers).map(function(t){return n.getNameByIP(e,t)}).filter(function(e){return e!==t.peer.name}).map(function(e){return{source:t.peer.name,target:e}})}).flat()};this._isMounted&&JSON.stringify(this.state.data)!==JSON.stringify(a)&&this.setState({data:a})}}},{key:"tick",value:function(){var e=this;J.getInstances().then(function(t){var n=[];J.getClientInterfaces().then(function(a){a.forEach(function(e){n.push(new Promise(function(t,n){e.client.getConnectedPeers().then(function(n){t({peer:e.instance,peers:n})})}))}),Promise.all(n).then(function(n){e.renderGraph(t,n)})})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),this._isMounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(A,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",null,"Network View"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(L.Graph,{id:"graph-id",data:this.state.data,config:this.graphConfig}))),r.a.createElement(x,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e){var t=[];return e.files.forEach(function(e,n){t.push(r.a.createElement("tr",{key:e},r.a.createElement("td",null,n+1),r.a.createElement("td",null,e)))}),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,t))}function H(e){var t=[];return e.benchmarks.forEach(function(e,n){t.push(r.a.createElement("tr",{key:e},r.a.createElement("td",null,n+1),r.a.createElement("td",null,e)))}),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,t))}n(267);var U=function(e){function t(e){var n;return Object(C.a)(this,t),(n=Object(P.a)(this,Object(_.a)(t).call(this,e)))._isMounted=!1,n.timerID=void 0,n.state={files:[],benchmarkQueue:[],benchmarkStatus:{name:"",remaining_txs:0,found_txs:0,total_txs:0}},n}return Object(B.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this.timerID=setInterval(function(){e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID),this._isMounted=!1}},{key:"tick",value:function(){var e=this;J.getBenchmarkFiles().then(function(t){J.getBenchmarkStatus().then(function(n){J.getBenchmarkQueue().then(function(a){console.log("Received benchmark status"),console.log(n),e.setState({files:t,benchmarkQueue:a,benchmarkStatus:n})})})})}},{key:"dumpBenchmarkData",value:function(){J.dumpBenchmarkData().then(function(e){})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h1",null,"Benchmark Overview"))),""!==this.state.benchmarkStatus.name&&r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h4",null,"Active Benchmark ",r.a.createElement("b",null,this.state.benchmarkStatus.name)," Remaining transactions to analyse:")),r.a.createElement("div",{className:"col-md-1"},r.a.createElement("h4",null,this.state.benchmarkStatus.found_txs,"/",this.state.benchmarkStatus.total_txs)),r.a.createElement("div",{className:"col-md-5"},r.a.createElement("button",{className:"btn btn-primary",onClick:this.dumpBenchmarkData},"Dump current benchmark data"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h3",null,"Benchmark Batch Queue"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(H,{benchmarks:this.state.benchmarkQueue}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h3",null,"Benchmark Files"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 benchmarkTable"},r.a.createElement(G,{files:this.state.files}))),r.a.createElement(x,null))}}]),t}(r.a.Component),V=r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(o.a,{exact:!0,path:"/",component:W}),r.a.createElement(o.a,{path:"/network",component:q}),r.a.createElement(o.a,{path:"/benchmarks",component:U})));s.a.render(V,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[136,1,2]]]);
//# sourceMappingURL=main.152037d3.chunk.js.map